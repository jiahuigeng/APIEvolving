{"language": "Python", "library": "PyTorch", "version": "1.9.0", "python_version": "3.8.10", "problem": "Create a matrix with default types and calculate its determinant.", "starting_code": "import torch\n\n# Set the default tensor type to Double Tensor\ntorch.set_default_tensor_type(torch.DoubleTensor)\n\n# Create a matrix and calculate the determinant\nmatrix = torch.tensor([[1.0, 2.0], [3.0, 4.0]])\n# SOLUTION_START\ndet = matrix.det()\n# SOLUTION_END\nprint('The determinant is:', det)\n", "solution": "det = matrix.det()", "test": "import torch\n\ndef test_determinant():\n    # Set the default tensor type to Double Tensor\n    torch.set_default_tensor_type(torch.DoubleTensor)\n    # Create a matrix\n    matrix = torch.tensor([[1.0, 2.0], [3.0, 4.0]])\n    # Calculate the determinant\n    det = matrix.det()\n    expected_det = -2.0\n    assert abs(det.item() - expected_det) < 1e-6, 'Test failed!'\n    print('Test passed.')\n\ntest_determinant()\n", "example_id": "PyTorch-1.9.0-old-1", "expected_output_contains": ["-2.0"], "old_api": "torch.set_default_tensor_type", "new_api": ["torch.set_default_dtype", "torch.set_default_device"], "deprecated_in": "2.1.0", "removed_in": null}
{"language": "Python", "library": "PyTorch", "version": "2.1.0", "python_version": "3.8.10", "problem": "Create a matrix with default types and calculate its determinant.", "starting_code": "import torch\n\n# Set the default dtype to double\ntorch.set_default_dtype(torch.float64)\n\n# Create a matrix and calculate the determinant\nmatrix = torch.tensor([[1.0, 2.0], [3.0, 4.0]])\n# SOLUTION_START\ndet = matrix.det()\n# SOLUTION_END\nprint('The determinant is:', det)\n", "solution": "det = matrix.det()", "test": "import torch\n\ndef test_determinant():\n    # Set the default dtype to double\n    torch.set_default_dtype(torch.float64)\n    # Create a matrix\n    matrix = torch.tensor([[1.0, 2.0], [3.0, 4.0]])\n    # Calculate the determinant\n    det = matrix.det()\n    expected_det = -2.0\n    assert abs(det.item() - expected_det) < 1e-6, 'Test failed!'\n    print('Test passed.')\n\ntest_determinant()\n", "example_id": "PyTorch-2.1.0-new-1", "expected_output_contains": ["-2.0"], "old_api": "torch.set_default_tensor_type", "new_api": ["torch.set_default_dtype", "torch.set_default_device"], "deprecated_in": "2.1.0", "removed_in": null}
{"language": "Python", "library": "PyTorch", "version": "1.8.0", "python_version": "3.8.10", "problem": "Compute the sum of elements in a vector defined with default tensor settings.", "starting_code": "import torch\n\n# Set the default tensor type to Float Tensor\ntorch.set_default_tensor_type(torch.FloatTensor)\n\n# Create a vector and calculate the sum\nvector = torch.tensor([1.0, 2.0, 3.0, 4.0])\n# SOLUTION_START\nsum_of_elements = vector.sum()\n# SOLUTION_END\nprint('The sum of elements is:', sum_of_elements)\n", "solution": "sum_of_elements = vector.sum()", "test": "import torch\n\ndef test_sum_of_elements():\n    # Set the default tensor type to Float Tensor\n    torch.set_default_tensor_type(torch.FloatTensor)\n    # Create a vector\n    vector = torch.tensor([1.0, 2.0, 3.0, 4.0])\n    # Calculate the sum of elements\n    sum_of_elements = vector.sum()\n    expected_sum = 10.0\n    assert abs(sum_of_elements.item() - expected_sum) < 1e-6, 'Test failed!'\n    print('Test passed.')\n\ntest_sum_of_elements()\n", "example_id": "PyTorch-1.8.0-old-2", "expected_output_contains": ["10.0"], "old_api": "torch.set_default_tensor_type", "new_api": ["torch.set_default_dtype", "torch.set_default_device"], "deprecated_in": "2.1.0", "removed_in": null}
{"language": "Python", "library": "PyTorch", "version": "2.1.0", "python_version": "3.8.10", "problem": "Compute the sum of elements in a vector defined with default type settings.", "starting_code": "import torch\n\n# Set the default dtype\n    torch.set_default_dtype(torch.float32)\n\n# Create a vector and calculate the sum\nvector = torch.tensor([1.0, 2.0, 3.0, 4.0])\n# SOLUTION_START\nsum_of_elements = vector.sum()\n# SOLUTION_END\nprint('The sum of elements is:', sum_of_elements)\n", "solution": "sum_of_elements = vector.sum()", "test": "import torch\n\ndef test_sum_of_elements():\n    # Set the default dtype\n    torch.set_default_dtype(torch.float32)\n    # Create a vector\n    vector = torch.tensor([1.0, 2.0, 3.0, 4.0])\n    # Calculate the sum of elements\n    sum_of_elements = vector.sum()\n    expected_sum = 10.0\n    assert abs(sum_of_elements.item() - expected_sum) < 1e-6, 'Test failed!'\n    print('Test passed.')\n\ntest_sum_of_elements()\n", "example_id": "PyTorch-2.1.0-new-2", "expected_output_contains": ["10.0"], "old_api": "torch.set_default_tensor_type", "new_api": ["torch.set_default_dtype", "torch.set_default_device"], "deprecated_in": "2.1.0", "removed_in": null}
{"language": "Python", "library": "PyTorch", "version": "1.7.1", "python_version": "3.8.10", "problem": "Rearrange the dimensions of a 3D tensor to move the second dimension to the last position.", "starting_code": "import torch\n\ndef rearrange_tensor(tensor):\n    # SOLUTION_START\n    pass\n    # SOLUTION_END\n", "solution": "    return torch.moveaxis(tensor, 1, 2)", "test": "import torch\n\ndef test_rearrange_tensor():\n    tensor = torch.tensor([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])\n    result = rearrange_tensor(tensor)\n    expected = torch.tensor([[[1, 2], [3, 4]], [[5, 6], [7, 8]]]).transpose(1, 2)\n    assert torch.equal(result, expected), f\"Output: {result}, Expected: {expected}\"\n    print(\"Test passed.\")\n\ntest_rearrange_tensor()", "example_id": "PyTorch-1.7.1-old-1", "expected_output_contains": ["Test passed."], "old_api": "torch.moveaxis", "new_api": "torch.movedim", "deprecated_in": "1.8.0", "removed_in": "2.0.0"}
{"language": "Python", "library": "PyTorch", "version": "2.0.0", "python_version": "3.8.10", "problem": "Rearrange the dimensions of a 3D tensor to move the second dimension to the last position.", "starting_code": "import torch\n\ndef rearrange_tensor(tensor):\n    # SOLUTION_START\n    pass\n    # SOLUTION_END\n", "solution": "    return torch.movedim(tensor, 1, 2)", "test": "import torch\n\ndef test_rearrange_tensor():\n    tensor = torch.tensor([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])\n    result = rearrange_tensor(tensor)\n    expected = torch.tensor([[[1, 2], [3, 4]], [[5, 6], [7, 8]]]).transpose(1, 2)\n    assert torch.equal(result, expected), f\"Output: {result}, Expected: {expected}\"\n    print(\"Test passed.\")\n\ntest_rearrange_tensor()", "example_id": "PyTorch-2.0.0-new-1", "expected_output_contains": ["Test passed."], "old_api": "torch.moveaxis", "new_api": "torch.movedim", "deprecated_in": "1.8.0", "removed_in": "2.0.0"}
{"language": "Python", "library": "PyTorch", "version": "1.7.1", "python_version": "3.8.10", "problem": "Reorder the axes of a 4D tensor to switch the first and last dimension.", "starting_code": "import torch\n\ndef reorder_axes(tensor):\n    # SOLUTION_START\n    pass\n    # SOLUTION_END\n", "solution": "    return torch.moveaxis(tensor, 0, -1)", "test": "import torch\n\ndef test_reorder_axes():\n    tensor = torch.randn(3, 2, 4, 5)\n    result = reorder_axes(tensor)\n    expected = tensor.permute(1, 2, 3, 0)\n    assert result.shape == expected.shape, f\"Output shape: {result.shape}, Expected shape: {expected.shape}\"\n    print(\"Test passed.\")\n\ntest_reorder_axes()", "example_id": "PyTorch-1.7.1-old-2", "expected_output_contains": ["Test passed."], "old_api": "torch.moveaxis", "new_api": "torch.movedim", "deprecated_in": "1.8.0", "removed_in": "2.0.0"}
{"language": "Python", "library": "PyTorch", "version": "2.0.0", "python_version": "3.8.10", "problem": "Reorder the axes of a 4D tensor to switch the first and last dimension.", "starting_code": "import torch\n\ndef reorder_axes(tensor):\n    # SOLUTION_START\n    pass\n    # SOLUTION_END\n", "solution": "    return torch.movedim(tensor, 0, -1)", "test": "import torch\n\ndef test_reorder_axes():\n    tensor = torch.randn(3, 2, 4, 5)\n    result = reorder_axes(tensor)\n    expected = tensor.permute(1, 2, 3, 0)\n    assert result.shape == expected.shape, f\"Output shape: {result.shape}, Expected shape: {expected.shape}\"\n    print(\"Test passed.\")\n\ntest_reorder_axes()", "example_id": "PyTorch-2.0.0-new-2", "expected_output_contains": ["Test passed."], "old_api": "torch.moveaxis", "new_api": "torch.movedim", "deprecated_in": "1.8.0", "removed_in": "2.0.0"}
